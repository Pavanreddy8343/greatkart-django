{% extends 'base.html' %}
{% load static %}

{% block content %}


<section class="section-content padding-y bg">
<div class="container">

<!-- ============================ COMPONENT 1 ================================= -->

<div class="row">
	<aside class="col-lg-6">
<div class="card">
  <div class="card-body">
    <h4 class="card-title mb-4">Billing Address</h4>
    <form action="" method="POST">
      {% csrf_token %}
      <div class="form-row">
        <div class="col form-group">
          <label for="">First Name</label>
          <input type="text" name="first_name" class="form-control" required>
        </div>
        <div class="col form-group">
          <label for="">Last Name</label>
          <input type="text" name="last_name" class="form-control" required>
        </div> <!-- form-group end.// -->
       
         <div class="form-row">
        <div class="col form-group">
          <label for="">Email Address</label>
          <input type="email" name="email" class="form-control" required>
        </div>
        <div class="col form-group">
          <label for="">Phone Number</label>
          <input type="text" name="phone_number" class="form-control" required>
        </div> <!-- form-group end.// -->
      </div>
        <div class="form-row">
        <div class="col form-group">
          <label for="">Address Line 1</label>
          <input type="text" name="address_line_1" class="form-control" required>
        </div>
        <div class="col form-group">
          <label for="">Address Line 2 (Optional)</label>
          <input type="text" name="address_line_2" class="form-control">
        </div> <!-- form-group end.// -->
       </div>
       <div class="form-row">
        <div class="col form-group">
          <label for="">City</label>
          <input type="text" name="city" class="form-control" required>
        </div>
        <div class="col form-group">
          <label for="">State/Province</label>
          <input type="text" name="state" class="form-control" required>
        </div> <!-- form-group end.// -->
       </div>
       <div class="form-row">
        <div class="col form-group">
          <label for="">ZIP Code</label>
          <input type="text" name="zip_code" class="form-control" required>
        </div>
        <div class="col form-group">
          <label for="">Country</label>
          <input type="text" name="country" class="form-control" required>
        </div>
         </div>
        <div class="form-row">
            <label>Order Note</label>
            <textarea name="order_note" rows="2" class="form-control"></textarea>
        </div>
      
     </div>
    </div> <!-- card-body.// -->

	</aside> <!-- col.// -->
	<aside class="col-lg-6">

<div class="card">
<div class="card-body">

<h4 class="card-title mb-4">Your Order</h4>

{% for cart_item in cart_items %}
<div class="row mb-3 align-items-center">
    <div class="col-3">
        <img src="{{ cart_item.product.images.url }}" width="60">
    </div>
    <div class="col-6">
        <strong>{{ cart_item.product.product_name }}</strong><br>
        <small>
            {% for item in cart_item.variations.all %}
                {{ item.variation_category|capfirst }} : {{ item.variation_value|capfirst }} <br>
            {% endfor %}
        </small>
    </div>
    <div class="col-3 text-right">
        <strong>$ {{ cart_item.product.price }}</strong><br>
        <small>$ {{ cart_item.product.price }} each</small>
    </div>
</div>
<hr>
{% endfor %}


<div class="d-flex justify-content-between">
    <span>Subtotal:</span>
    <span>₹ {{ total }}</span>
</div>

<div class="d-flex justify-content-between">
    <span>Tax:</span>
    <span>₹ {{ tax }}</span>
</div>

<div class="d-flex justify-content-between font-weight-bold mt-2">
    <span>Grand Total:</span>
    <span>₹ {{ grand_total }}</span>
</div>


<hr>


<button type="submit" name="submit" class="btn btn-primary btn-block mt-3"> Place Order </button>
<a href="{% url 'store' %}" class="btn btn-light btn-block">
    Continue Shopping
</a>
</form>

</div>
</div>

</aside>


</div> <!-- row.// -->

<!-- ============================ COMPONENT 1 END .// ================================= -->

</div> <!-- container .//  -->
</section>
<!-- ========================= SECTION CONTENT END// ========================= -->

{% endblock %}